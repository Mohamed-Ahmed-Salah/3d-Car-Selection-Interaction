<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Model Viewer</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        model-viewer {
          width: 100%;
          height: 100%;
          touch-action: none;
          user-select: none;
        }

        model-viewer::part(default-progress-bar) {
          display: none;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 min-h-screen flex items-center justify-center p-4">

<div class="w-full max-w-4xl">
    <!-- Container Card -->
    <div class="bg-slate-800/50 backdrop-blur-sm rounded-2xl shadow-2xl overflow-hidden border border-slate-700">

        <!-- Header -->
        <div class="bg-gradient-to-r from-blue-600 to-purple-600 p-6">
            <h1 class="text-3xl font-bold text-white mb-2">3D Model Viewer</h1>
            <p class="text-blue-100">Click on the model to change camera orbit</p>
        </div>

        <!-- Model Viewer Container -->
        <div class="relative bg-slate-900/50 aspect-video cursor-pointer group" id="modelContainer">
            <model-viewer
                    id="viewer"
                    src="https://modelviewer.dev/shared-assets/models/Astronaut.glb"
                    alt="3D Model"
                    camera-orbit="-90deg 90deg 100m"
                    camera-controls="false"
                    disable-zoom
                    disable-pan
                    interpolation-decay="150"
                    loading="eager"
                    class="w-full h-full">
            </model-viewer>

            <!-- Click Indicator -->
            <div class="absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <div class="bg-white/10 backdrop-blur-md rounded-full p-4 border border-white/20">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor"
                         viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"></path>
                    </svg>
                </div>
            </div>

            <!-- Loading Indicator -->
            <div id="loadingIndicator"
                 class="absolute inset-0 flex items-center justify-center bg-slate-900/80">
                <div class="text-center">
                    <div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"></div>
                    <p class="text-white mt-4 font-medium">Loading 3D Model...</p>
                </div>
            </div>
        </div>

        <!-- Info Panel -->
        <div class="bg-slate-800/30 p-6 border-t border-slate-700">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-slate-700/30 rounded-lg p-4">
                    <p class="text-slate-400 text-sm mb-1">Current View</p>
                    <p class="text-white font-semibold" id="viewName">Side View</p>
                </div>
                <div class="bg-slate-700/30 rounded-lg p-4">
                    <p class="text-slate-400 text-sm mb-1">Camera Orbit</p>
                    <p class="text-white font-mono text-sm" id="orbitValue">-90deg 90deg 100m</p>
                </div>
            </div>
        </div>

    </div>

    <!-- Instructions -->
    <div class="mt-6 text-center">
        <p class="text-slate-400">üí° Click anywhere on the model to cycle through different camera
            angles</p>
    </div>
</div>

<script>
    const viewer = document.getElementById('viewer');
    const modelContainer = document.getElementById('modelContainer');
    const loadingIndicator = document.getElementById('loadingIndicator');
    const viewName = document.getElementById('viewName');
    const orbitValue = document.getElementById('orbitValue');

    // Orbital views to cycle through
    const orbitalViews = [
      { orbit: '-90deg 90deg 100m', name: 'Side View' },
      { orbit: '0deg 90deg 100m', name: 'Front View' },
      { orbit: '90deg 90deg 100m', name: 'Other Side' },
      { orbit: '180deg 90deg 100m', name: 'Back View' },
      { orbit: '-45deg 75deg 120m', name: 'Angled View 1' },
      { orbit: '45deg 105deg 80m', name: 'Angled View 2' },
      { orbit: '0deg 0deg 100m', name: 'Top Down View' },
    ];

    let currentOrbitIndex = 0;

    // Hide loading indicator when model is loaded
    viewer.addEventListener('load', () => {
      loadingIndicator.style.display = 'none';
    });

    // Handle model loading errors
    viewer.addEventListener('error', (e) => {
      loadingIndicator.innerHTML = `
        <div class="text-center">
          <div class="text-red-500 text-5xl mb-4">‚ö†Ô∏è</div>
          <p class="text-white font-medium">Error loading model</p>
          <p class="text-slate-400 text-sm mt-2">Please check the model path</p>
        </div>
      `;
    });

    // Change orbital view on click
    modelContainer.addEventListener('click', () => {
      // Move to next orbit
      currentOrbitIndex = (currentOrbitIndex + 1) % orbitalViews.length;
      const currentView = orbitalViews[currentOrbitIndex];

      // Remove attribute first
      viewer.removeAttribute('camera-orbit');

      // Set new orbit after a brief delay
      setTimeout(() => {
        viewer.setAttribute('camera-orbit', currentView.orbit);

        // Update info display
        viewName.textContent = currentView.name;
        orbitValue.textContent = currentView.orbit;

        // Add pulse animation to info panel
        viewName.parentElement.classList.add('animate-pulse');
        setTimeout(() => {
          viewName.parentElement.classList.remove('animate-pulse');
        }, 500);
      }, 10);
    });
</script>

</body>
</html>